<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Paul Prince&#39;s MPX: mpx/mpx_supt.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Paul Prince's MPX&#160;<span id="projectnumber">R1</span></div>
   <div id="projectbrief">Programming Project for WVU CS 450 (Spring 2011)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('mpx__supt_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>mpx/mpx_supt.h</h1>  </div>
</div>
<div class="contents">
<a href="mpx__supt_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/***********************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">        MPX: The MultiProgramming eXecutive</span>
<a name="l00003"></a>00003 <span class="comment">        Project to Accompany</span>
<a name="l00004"></a>00004 <span class="comment">        A Practical Approach to Operating Systems</span>
<a name="l00005"></a>00005 <span class="comment">        Malcolm G. Lane &amp; James D. Mooney</span>
<a name="l00006"></a>00006 <span class="comment">        Copyright 1993, P.W.S. Kent Publishing Co., Boston, MA.</span>
<a name="l00007"></a>00007 <span class="comment"></span>
<a name="l00008"></a>00008 <span class="comment">        File Name:      mpx_supt.h</span>
<a name="l00009"></a>00009 <span class="comment"></span>
<a name="l00010"></a>00010 <span class="comment">        Author: J. Mooney</span>
<a name="l00011"></a>00011 <span class="comment">        Version: 2.0</span>
<a name="l00012"></a>00012 <span class="comment">        Date:  02/24/93</span>
<a name="l00013"></a>00013 <span class="comment"></span>
<a name="l00014"></a>00014 <span class="comment">        Purpose: Header file for MPX support</span>
<a name="l00015"></a>00015 <span class="comment"></span>
<a name="l00016"></a>00016 <span class="comment">                This file contains support declarations intended</span>
<a name="l00017"></a>00017 <span class="comment">                to be visible to student modules.  It should be</span>
<a name="l00018"></a>00018 <span class="comment">                included by these modules.</span>
<a name="l00019"></a>00019 <span class="comment"></span>
<a name="l00020"></a>00020 <span class="comment">                </span>
<a name="l00021"></a>00021 <span class="comment">        Environment: System Independent (header file only)</span>
<a name="l00022"></a>00022 <span class="comment"></span>
<a name="l00023"></a>00023 <span class="comment">************************************************************************</span>
<a name="l00024"></a>00024 <span class="comment"></span>
<a name="l00025"></a>00025 <span class="comment"> Change Log:</span>
<a name="l00026"></a>00026 <span class="comment"></span>
<a name="l00027"></a>00027 <span class="comment">        02/24/92  jdm   original version</span>
<a name="l00028"></a>00028 <span class="comment">        04/06/92  jdm   Module-independent version</span>
<a name="l00029"></a>00029 <span class="comment">        05/15/92  jdm   cleanup and documentation</span>
<a name="l00030"></a>00030 <span class="comment">        07/14/92  jdm   further work</span>
<a name="l00031"></a>00031 <span class="comment">        07/20/92  jdm   cnv flag to int for TURBO C problem</span>
<a name="l00032"></a>00032 <span class="comment">        08/07/92  jdm   changed module codes</span>
<a name="l00033"></a>00033 <span class="comment">        10/18/92  jdm   added load function and errors</span>
<a name="l00034"></a>00034 <span class="comment">        11/17/92  jdm   added memory errors</span>
<a name="l00035"></a>00035 <span class="comment">        12/31/92  jdm   added SET, RESET, and NUM_DEVS</span>
<a name="l00036"></a>00036 <span class="comment">                        removed non-ANSI declarations</span>
<a name="l00037"></a>00037 <span class="comment">                        changed sys_req params</span>
<a name="l00038"></a>00038 <span class="comment">        01/03/93  jdm   revised error codes and names</span>
<a name="l00039"></a>00039 <span class="comment">        02/24/93  jdm   changed sys_set_vec param to interrupt</span>
<a name="l00040"></a>00040 <span class="comment"></span>
<a name="l00041"></a>00041 <span class="comment">************************************************************************/</span>
<a name="l00042"></a>00042 <span class="preprocessor">#ifndef MPX_SUPT</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span><span class="preprocessor">#define MPX_SUPT</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span><span class="comment">/* ANSI C Include Files */</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &lt;ctype.h&gt;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="comment">/* logical constants */</span>
<a name="l00050"></a><a class="code" href="mpx__supt_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">00050</a> <span class="preprocessor">#define TRUE    1</span>
<a name="l00051"></a><a class="code" href="mpx__supt_8h.html#aa93f0eb578d23995850d61f7d61c55c1">00051</a> <span class="preprocessor"></span><span class="preprocessor">#define FALSE   0</span>
<a name="l00052"></a><a class="code" href="mpx__supt_8h.html#a59da1d65e87a723efe808dbabb4fc205">00052</a> <span class="preprocessor"></span><span class="preprocessor">#define SET     1</span>
<a name="l00053"></a><a class="code" href="mpx__supt_8h.html#ab702106cf3b3e96750b6845ded4e0299">00053</a> <span class="preprocessor"></span><span class="preprocessor">#define RESET   0</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a><a class="code" href="mpx__supt_8h.html#a82213f89e2dd878de22792f4c539bb39">00055</a> <span class="preprocessor">#define NULCH   (&#39;\0&#39;)</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00057"></a>00057 <span class="comment">/* status and error codes */</span>
<a name="l00058"></a><a class="code" href="mpx__supt_8h.html#aba51915c87d64af47fb1cc59348961c9">00058</a> <span class="preprocessor">#define OK      0</span>
<a name="l00059"></a><a class="code" href="mpx__supt_8h.html#ab1576c77032ec6785e1709018aef09c5">00059</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_SUP_INVDEV (-101) </span><span class="comment">/* invalid device id */</span>
<a name="l00060"></a><a class="code" href="mpx__supt_8h.html#a26a4390db3ced7d26d8fd71eb2302e6d">00060</a> <span class="preprocessor">#define ERR_SUP_INVOPC (-102) </span><span class="comment">/* invalid op code */</span>
<a name="l00061"></a><a class="code" href="mpx__supt_8h.html#a7ec247c7eee2516c95d6b0833a48cf20">00061</a> <span class="preprocessor">#define ERR_SUP_INVPOS (-103) </span><span class="comment">/* invalid character position */</span>
<a name="l00062"></a><a class="code" href="mpx__supt_8h.html#ae3561a87132624421a8d3ce3208c7a72">00062</a> <span class="preprocessor">#define ERR_SUP_RDFAIL (-104) </span><span class="comment">/* read failed */</span>
<a name="l00063"></a><a class="code" href="mpx__supt_8h.html#aab659642d79d4652229ce30b0ce5bb20">00063</a> <span class="preprocessor">#define ERR_SUP_WRFAIL (-105) </span><span class="comment">/* write failed */</span>
<a name="l00064"></a><a class="code" href="mpx__supt_8h.html#a3cbcb26c263e6b5f7ba0a9b600c62b8d">00064</a> <span class="preprocessor">#define ERR_SUP_INVMEM (-106) </span><span class="comment">/* invalid memory block pointer */</span>
<a name="l00065"></a><a class="code" href="mpx__supt_8h.html#a9ddd3f16ff8279063063a8159a7804e2">00065</a> <span class="preprocessor">#define ERR_SUP_FRFAIL (-107) </span><span class="comment">/* free failed */</span>
<a name="l00066"></a><a class="code" href="mpx__supt_8h.html#aa81a4def9309b2f43024d8a35d6e218d">00066</a> <span class="preprocessor">#define ERR_SUP_INVDAT (-108) </span><span class="comment">/* invalid date */</span>
<a name="l00067"></a><a class="code" href="mpx__supt_8h.html#a70a497244555d87a64514ac650fb7e5e">00067</a> <span class="preprocessor">#define ERR_SUP_DATNCH (-109) </span><span class="comment">/* date not changed */</span>
<a name="l00068"></a><a class="code" href="mpx__supt_8h.html#ad590e50b1eab9e163983bdfee024219b">00068</a> <span class="preprocessor">#define ERR_SUP_INVDIR (-110) </span><span class="comment">/* invalid directory name */</span>
<a name="l00069"></a><a class="code" href="mpx__supt_8h.html#a4c631cdc4a47b13e58b360cd8878f8bf">00069</a> <span class="preprocessor">#define ERR_SUP_DIROPN (-111) </span><span class="comment">/* directory open error */</span>
<a name="l00070"></a><a class="code" href="mpx__supt_8h.html#a9f33a4e155b5ef99d257b4d6b910f738">00070</a> <span class="preprocessor">#define ERR_SUP_DIRNOP (-112) </span><span class="comment">/* no directory is open */</span>
<a name="l00071"></a><a class="code" href="mpx__supt_8h.html#a9d50613dcf89dd72e4fbc60e181ab19a">00071</a> <span class="preprocessor">#define ERR_SUP_NOENTR (-113) </span><span class="comment">/* no more directory entries */</span>
<a name="l00072"></a><a class="code" href="mpx__supt_8h.html#a162324dd2d1ffbf2ebd9eeced2706601">00072</a> <span class="preprocessor">#define ERR_SUP_NAMLNG (-114) </span><span class="comment">/* name too long for buffer */</span>
<a name="l00073"></a><a class="code" href="mpx__supt_8h.html#ab96f7644a78bbc0310e33555686e78f0">00073</a> <span class="preprocessor">#define ERR_SUP_DIRCLS (-115) </span><span class="comment">/* directory close error */</span>
<a name="l00074"></a><a class="code" href="mpx__supt_8h.html#a46cd151d34c16316b2a23a58fa06489e">00074</a> <span class="preprocessor">#define ERR_SUP_LDFAIL (-116) </span><span class="comment">/* program load failed */</span>
<a name="l00075"></a><a class="code" href="mpx__supt_8h.html#a2647dc68fda0efd43ae9e854d6f28d01">00075</a> <span class="preprocessor">#define ERR_SUP_FILNFD (-117) </span><span class="comment">/* file not found */</span>
<a name="l00076"></a><a class="code" href="mpx__supt_8h.html#afb01ea40c79b6973919b03a2cd6a0140">00076</a> <span class="preprocessor">#define ERR_SUP_FILINV (-118) </span><span class="comment">/* file invalid */</span>
<a name="l00077"></a><a class="code" href="mpx__supt_8h.html#a199a63c8fa2af0ddc1418d4ab7fbd71e">00077</a> <span class="preprocessor">#define ERR_SUP_PROGSZ (-119) </span><span class="comment">/* program size error */</span>
<a name="l00078"></a><a class="code" href="mpx__supt_8h.html#a0799ba8217851f1bddb54d3c7d8ad2ce">00078</a> <span class="preprocessor">#define ERR_SUP_LDADDR (-120) </span><span class="comment">/* invalid load address */</span>
<a name="l00079"></a><a class="code" href="mpx__supt_8h.html#af99f94029ea260d1284eb61055736ef0">00079</a> <span class="preprocessor">#define ERR_SUP_NOMEM  (-121) </span><span class="comment">/* memory allocation error */</span>
<a name="l00080"></a><a class="code" href="mpx__supt_8h.html#a58288bb5a538be41bf51d4496cf03ad9">00080</a> <span class="preprocessor">#define ERR_SUP_MFREE  (-122) </span><span class="comment">/* memory free error */</span>
<a name="l00081"></a><a class="code" href="mpx__supt_8h.html#a17d21c62d10c3dc46251718ea48c54ad">00081</a> <span class="preprocessor">#define ERR_SUP_INVHAN (-123) </span><span class="comment">/* invalid handler address */</span>
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="comment">/* Service operation codes */</span>
<a name="l00084"></a><a class="code" href="mpx__supt_8h.html#a9c21a7caee326d7803b94ae1952b27ca">00084</a> <span class="preprocessor">#define IDLE    0</span>
<a name="l00085"></a><a class="code" href="mpx__supt_8h.html#ada74e7db007a68e763f20c17f2985356">00085</a> <span class="preprocessor"></span><span class="preprocessor">#define READ    1</span>
<a name="l00086"></a><a class="code" href="mpx__supt_8h.html#aa10f470e996d0f51210d24f442d25e1e">00086</a> <span class="preprocessor"></span><span class="preprocessor">#define WRITE   2</span>
<a name="l00087"></a><a class="code" href="mpx__supt_8h.html#a611cc9b5f655508482f3d7a9751c182a">00087</a> <span class="preprocessor"></span><span class="preprocessor">#define CLEAR   3</span>
<a name="l00088"></a><a class="code" href="mpx__supt_8h.html#a352fb1a54fa0c1aa8bf3ec05b9e36f6d">00088</a> <span class="preprocessor"></span><span class="preprocessor">#define GOTOXY  4</span>
<a name="l00089"></a><a class="code" href="mpx__supt_8h.html#ad111e603bbebe5d87f6bc39264ce4733">00089</a> <span class="preprocessor"></span><span class="preprocessor">#define EXIT    5</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span>
<a name="l00091"></a>00091 <span class="comment">/* Device ID codes */</span>
<a name="l00092"></a><a class="code" href="mpx__supt_8h.html#a9d357b54d006248103c7445724b816dd">00092</a> <span class="preprocessor">#define NO_DEV          0</span>
<a name="l00093"></a><a class="code" href="mpx__supt_8h.html#a5250b667cb28dd60b71e6e04e23eac37">00093</a> <span class="preprocessor"></span><span class="preprocessor">#define TERMINAL        1</span>
<a name="l00094"></a><a class="code" href="mpx__supt_8h.html#a15ef04095568844ee28ee56191c9d903">00094</a> <span class="preprocessor"></span><span class="preprocessor">#define PRINTER         2</span>
<a name="l00095"></a><a class="code" href="mpx__supt_8h.html#a702309aca6604d528fd1e9aa0879a0c7">00095</a> <span class="preprocessor"></span><span class="preprocessor">#define COM_PORT        3</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span>
<a name="l00097"></a><a class="code" href="mpx__supt_8h.html#abd50a5bdbcb2e9cd762babfc96349a29">00097</a> <span class="preprocessor">#define NUM_DEVS        3</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span>
<a name="l00099"></a>00099 <span class="comment">/* Module codes */</span>
<a name="l00100"></a><a class="code" href="mpx__supt_8h.html#a803966890d1e61bb068b8cf796f49166">00100</a> <span class="preprocessor">#define BASE_MASK       0x700F</span>
<a name="l00101"></a><a class="code" href="mpx__supt_8h.html#af44b6097b3ff3bd26acb0dee9a571374">00101</a> <span class="preprocessor"></span><span class="preprocessor">#define OPT_MASK        0x0FF0</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span>
<a name="l00103"></a><a class="code" href="mpx__supt_8h.html#a9d88621bfb79cb860b9ea2b5abb1c7f0">00103</a> <span class="preprocessor">#define MODULE_R1       0x0001</span>
<a name="l00104"></a><a class="code" href="mpx__supt_8h.html#a177f46669733cd706e9476485dfd961b">00104</a> <span class="preprocessor"></span><span class="preprocessor">#define MODULE_R2       0x0002</span>
<a name="l00105"></a><a class="code" href="mpx__supt_8h.html#afe0ac8d1ebddd519bed41c8d8e79fad0">00105</a> <span class="preprocessor"></span><span class="preprocessor">#define MODULE_R3       0x0004</span>
<a name="l00106"></a><a class="code" href="mpx__supt_8h.html#a05541487bcf6e840b918f0a6ef097024">00106</a> <span class="preprocessor"></span><span class="preprocessor">#define MODULE_R4       0x0008</span>
<a name="l00107"></a><a class="code" href="mpx__supt_8h.html#aeda25cfe5add5583a7a1bbdb55d0bf75">00107</a> <span class="preprocessor"></span><span class="preprocessor">#define MODULE_O1       0x0010</span>
<a name="l00108"></a><a class="code" href="mpx__supt_8h.html#a3cdc1cb7f0240cf275694ac0d2151eec">00108</a> <span class="preprocessor"></span><span class="preprocessor">#define MODULE_O2       0x0020</span>
<a name="l00109"></a><a class="code" href="mpx__supt_8h.html#ac59d574832919a5047dd1376533a56f4">00109</a> <span class="preprocessor"></span><span class="preprocessor">#define MODULE_O3       0x0040</span>
<a name="l00110"></a><a class="code" href="mpx__supt_8h.html#a3d62be259b44ae05db5a12f15d6759ac">00110</a> <span class="preprocessor"></span><span class="preprocessor">#define MODULE_O4       0x0080</span>
<a name="l00111"></a><a class="code" href="mpx__supt_8h.html#aa10620b85f5ed440743607b91dd2e78b">00111</a> <span class="preprocessor"></span><span class="preprocessor">#define MODULE_O5       0x0100</span>
<a name="l00112"></a><a class="code" href="mpx__supt_8h.html#add297749ca8f58b983a53df84a5ec3f8">00112</a> <span class="preprocessor"></span><span class="preprocessor">#define MODULE_O6       0x0200</span>
<a name="l00113"></a><a class="code" href="mpx__supt_8h.html#ab3d2b7d83327df1144f34d8b55ce689c">00113</a> <span class="preprocessor"></span><span class="preprocessor">#define MODULE_O7       0x0400</span>
<a name="l00114"></a><a class="code" href="mpx__supt_8h.html#a311efcf018b76e54e8367b667f2c91db">00114</a> <span class="preprocessor"></span><span class="preprocessor">#define MODULE_O8       0x0800</span>
<a name="l00115"></a><a class="code" href="mpx__supt_8h.html#a0ae03232a715c0ff4983049aa1334e98">00115</a> <span class="preprocessor"></span><span class="preprocessor">#define MODULE_F        0x4000</span>
<a name="l00116"></a>00116 <span class="preprocessor"></span>
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="comment">/* Type and structure definitions */</span>
<a name="l00120"></a>00120 
<a name="l00121"></a><a class="code" href="mpx__supt_8h.html#a28a1ef2372a94a558be91f61912bc371">00121</a> <span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="mpx__supt_8h.html#a28a1ef2372a94a558be91f61912bc371">flag</a>;
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 <span class="comment">/* Date record */</span>
<a name="l00124"></a><a class="code" href="structdate__rec.html">00124</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00125"></a><a class="code" href="structdate__rec.html#aedb06abe5aff12fa3e7e0e71a374edfb">00125</a>         <span class="keywordtype">int</span> <a class="code" href="structdate__rec.html#aedb06abe5aff12fa3e7e0e71a374edfb">month</a>;
<a name="l00126"></a><a class="code" href="structdate__rec.html#a4c11afc03fc3ee49bab660def6558f2a">00126</a>         <span class="keywordtype">int</span> <a class="code" href="structdate__rec.html#a4c11afc03fc3ee49bab660def6558f2a">day</a>;
<a name="l00127"></a><a class="code" href="structdate__rec.html#abeac221e38b7b9ce7df8722c842bf671">00127</a>         <span class="keywordtype">int</span> <a class="code" href="structdate__rec.html#abeac221e38b7b9ce7df8722c842bf671">year</a>;
<a name="l00128"></a>00128         } <a class="code" href="structdate__rec.html">date_rec</a>;
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 <span class="comment">/* Support function prototypes */</span>
<a name="l00131"></a>00131 <span class="comment">/* Note that these are all &quot;extern&quot; by default */</span>
<a name="l00132"></a>00132 
<a name="l00133"></a>00133         <span class="comment">/* sys_init: initialize MPX */</span>
<a name="l00134"></a>00134         <span class="comment">/*      RETURNS: integer error code; zero if ok */</span>
<a name="l00135"></a>00135         <span class="keywordtype">int</span> <a class="code" href="mpx__supt_8c.html#a94b2afd900480b56ec7e89a31af2e370">sys_init</a> ( <span class="keywordtype">int</span> modules <span class="comment">/* module code */</span>
<a name="l00136"></a>00136                 );
<a name="l00137"></a>00137 
<a name="l00138"></a>00138         <span class="comment">/* sys_exit: exit to host OS */</span>
<a name="l00139"></a>00139         <span class="keywordtype">void</span> <a class="code" href="mpx__supt_8c.html#ac8c2364fd51221e5ac983f174aeb289f">sys_exit</a> (<span class="keywordtype">void</span>);
<a name="l00140"></a>00140         
<a name="l00141"></a>00141         <span class="comment">/* sys_set_vec: set trap vector for system call handler */</span>
<a name="l00142"></a>00142         <span class="comment">/*      RETURNS: integer error code; zero if ok */</span>
<a name="l00143"></a>00143         <span class="keywordtype">int</span> <a class="code" href="mpx__supt_8c.html#aef437061d1fe925ad7412794d1d43a35">sys_set_vec</a>
<a name="l00144"></a>00144                 ( <span class="keywordtype">void</span> interrupt (*handler)() <span class="comment">/* system call handler */</span>
<a name="l00145"></a>00145                 );
<a name="l00146"></a>00146 
<a name="l00147"></a>00147         <span class="comment">/* sys_req: request system service */</span>
<a name="l00148"></a>00148         <span class="comment">/*      RETURNS: result or error code depending on service */</span>
<a name="l00149"></a>00149         <span class="keywordtype">int</span> <a class="code" href="mpx__supt_8c.html#a6ce105e2629f4baff249ab1a628eae29">sys_req</a>  ( <span class="keywordtype">int</span> op_code,     <span class="comment">/* operation code */</span>
<a name="l00150"></a>00150                         <span class="keywordtype">int</span> device_id,  <span class="comment">/* device identifier */</span>
<a name="l00151"></a>00151                         <span class="keywordtype">char</span> *buf_p,    <span class="comment">/* string buffer */</span>
<a name="l00152"></a>00152                         <span class="keywordtype">int</span> *count_p    <span class="comment">/* ptr to transfer count */</span>
<a name="l00153"></a>00153                       );
<a name="l00154"></a>00154 
<a name="l00155"></a>00155         <span class="comment">/* sys_alloc_mem: allocate memory */</span>
<a name="l00156"></a>00156         <span class="comment">/* RETURNS: pointer to allocated block */</span>
<a name="l00157"></a>00157         <span class="keywordtype">void</span> *<a class="code" href="mpx__supt_8c.html#a7bb253c308c19ed0f00940aaf7f3f3aa">sys_alloc_mem</a> ( <span class="keywordtype">size_t</span> size <span class="comment">/* block size */</span>
<a name="l00158"></a>00158                       );
<a name="l00159"></a>00159                       
<a name="l00160"></a>00160         <span class="comment">/* sys_free_mem: free memory */</span>
<a name="l00161"></a>00161         <span class="comment">/* RETURNS: integer error code, or 0 if ok */</span>
<a name="l00162"></a>00162         <span class="keywordtype">int</span> <a class="code" href="mpx__supt_8c.html#a950663d39dbb073c9dff9cf3b5d3392c">sys_free_mem</a> (      <span class="keywordtype">void</span> *ptr <span class="comment">/* ptr to memory to free */</span>
<a name="l00163"></a>00163                         );
<a name="l00164"></a>00164                       
<a name="l00165"></a>00165         <span class="comment">/* sys_get_date: get system date */</span>
<a name="l00166"></a>00166         <span class="keywordtype">void</span> <a class="code" href="mpx__supt_8c.html#abcb85624def92534179f135b1b4b97cd">sys_get_date</a> ( <a class="code" href="structdate__rec.html">date_rec</a> *date_p <span class="comment">/* date record */</span>
<a name="l00167"></a>00167                       );
<a name="l00168"></a>00168 
<a name="l00169"></a>00169         <span class="comment">/* sys_set_date: set system date */</span>
<a name="l00170"></a>00170         <span class="comment">/*      RETURNS: integer error code, zero if OK */</span>
<a name="l00171"></a>00171         <span class="keywordtype">int</span> <a class="code" href="mpx__supt_8c.html#ab147fb942d147bb4bc392ca2e2c957fe">sys_set_date</a> ( <a class="code" href="structdate__rec.html">date_rec</a> *date_p <span class="comment">/* date record */</span>
<a name="l00172"></a>00172                       );
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 
<a name="l00175"></a>00175         <span class="comment">/* sys_open_dir: open a directory */</span>
<a name="l00176"></a>00176         <span class="comment">/*      RETURNS: integer error code, zero if OK */</span>
<a name="l00177"></a>00177         <span class="keywordtype">int</span> <a class="code" href="mpx__supt_8c.html#a234208f6b6225e63fb58a64569f48523">sys_open_dir</a> (<span class="keywordtype">char</span> dir_name[] <span class="comment">/* directory name */</span>
<a name="l00178"></a>00178                       );
<a name="l00179"></a>00179                       
<a name="l00180"></a>00180         <span class="comment">/* sys_get_entry: get a directory entry */</span>
<a name="l00181"></a>00181         <span class="comment">/*      RETURNS: integer error code, zero if OK */</span>
<a name="l00182"></a>00182         <span class="keywordtype">int</span> <a class="code" href="mpx__supt_8c.html#a47c4a83a50d325065e2a078b6f851649">sys_get_entry</a> (<span class="keywordtype">char</span> name_buf[], <span class="comment">/* file name buffer */</span>
<a name="l00183"></a>00183                            <span class="keywordtype">int</span> buf_size, <span class="comment">/* name buffer size */</span>
<a name="l00184"></a>00184                            <span class="keywordtype">long</span> *file_size_p <span class="comment">/* file size variable */</span>
<a name="l00185"></a>00185                            );
<a name="l00186"></a>00186         
<a name="l00187"></a>00187         <span class="comment">/* sys_close_dir: close a directory */</span>
<a name="l00188"></a>00188         <span class="comment">/*      RETURNS: integer error code, zero if OK */</span>
<a name="l00189"></a>00189         <span class="keywordtype">int</span> <a class="code" href="mpx__supt_8c.html#aeb175abf4280a017b3f2d3ed5d9c555b">sys_close_dir</a> (<span class="keywordtype">void</span>);
<a name="l00190"></a>00190 
<a name="l00191"></a>00191         <span class="comment">/* sys_check_program; check and measure program file */</span>
<a name="l00192"></a>00192         <span class="comment">/*      RETURNS: memory size needed, or error code */</span>
<a name="l00193"></a>00193         <span class="keywordtype">int</span> <a class="code" href="mpx__supt_8c.html#afb1656f29d32ab361180644044371aa9">sys_check_program</a> (<span class="keywordtype">char</span> dir_name[], <span class="comment">/* directory name */</span>
<a name="l00194"></a>00194                         <span class="keywordtype">char</span> prog_name[], <span class="comment">/* program name */</span>
<a name="l00195"></a>00195                         <span class="keywordtype">int</span> *prog_len, <span class="comment">/* program length */</span>
<a name="l00196"></a>00196                         <span class="keywordtype">int</span> *start_offset <span class="comment">/* starting offset */</span>
<a name="l00197"></a>00197                         );
<a name="l00198"></a>00198                       
<a name="l00199"></a>00199         <span class="comment">/* sys_load_program: load an MPX program */</span>
<a name="l00200"></a>00200         <span class="comment">/*      RETURNS: success code or error */</span>
<a name="l00201"></a>00201         <span class="keywordtype">int</span> <a class="code" href="mpx__supt_8c.html#a9c346a6e222f9fa77f76ad0c9adbe78c">sys_load_program</a> (  <span class="keywordtype">void</span> *load_addr, <span class="comment">/* load address */</span>
<a name="l00202"></a>00202                         <span class="keywordtype">int</span> max_size, <span class="comment">/* maximum program size */</span>
<a name="l00203"></a>00203                         <span class="keywordtype">char</span> dir_name[], <span class="comment">/* directory name */</span>
<a name="l00204"></a>00204                         <span class="keywordtype">char</span> prog_name[] <span class="comment">/* program name */</span>
<a name="l00205"></a>00205                         );
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <span class="comment">/* END OF FILE */</span>
<a name="l00208"></a>00208 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="mpx__supt_8h.html">mpx_supt.h</a>      </li>
      <li class="footer">Generated on Mon Feb 21 2011 for Paul Prince's MPX by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>

</body>
</html>
